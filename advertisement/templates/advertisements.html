{% extends 'base.html' %}
{% load static %}

{% block content %}
<body style="background-image: url(https://media.istockphoto.com/vectors/light-soft-green-triangular-geometric-background-vector-id906770278?k=20&m=906770278&s=612x612&w=0&h=n-VUXUTOIO_oVJelcijdt0jt8vsjlEdtfj3Oq5QDO0M=); background-repeat: no-repeat; background-size: cover;">
    <style>
            h1 {
        text-align: center;
        margin-bottom:70px;
    }
    .card-img-top {
    width: 100%;
    height: 15vw;
    object-fit: cover;
}
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            function create_card(Advertisement) {
                console.log(Advertisement.fields)
        if(Advertisement.fields.ad_type == "FARMLAND"){
            return `
        <div class="col">
            <div class="card" style="width: 18rem;">
                <img class="card-img-top" src="https://imageio.forbes.com/specials-images/imageserve/62be10f32ce37625d88bca9b/Tractor-spraying-pesticides-on-soybean-field--with-sprayer-at-spring/960x0.jpg?format=jpg&width=960" alt="Card image cap">
                <div class="card-body">
                    <h5 class="card-title">${Advertisement.fields.title}</h5>
                    <p class="card-text">${Advertisement.fields.description}</p>
                </div>
                <div class="card-footer">
                    <p class="card-text">By : ${Advertisement.fields.username}</p>
                </div>
            </div>
        </div>
        `

        }
        else{
            return `
            <div class="col">
                <div class="card" style="width: 18rem;">
                    <img class="card-img-top" src="https://oxfarm.co.ke/wp-content/uploads/2018/10/Fresh-produce.jpg" alt="Card image cap">
                    <div class="card-body">
                        <h5 class="card-title">${Advertisement.fields.title}</h5>
                        <p class="card-text">${Advertisement.fields.description}</p>
                    </div>
                    <div class="card-footer">
                        <p class="card-text">By : ${Advertisement.fields.username} </p>
                    </div>
                </div>
            </div>
        `
        }
        

    };
            function Add_Advertisement() {
                $.get("/advertisement/json", function(data) {
                    $.each(data, function(i, value) {
                    $("#cardrow").append(create_card(value));
                    });
                })
            };
            Add_Advertisement();
        });

    </script>
<h1> Hello {{username}}, Here's some of advertisements from our community</h1>
<div class="row row-cols-md-3 g-4" id="cardrow" style="margin-left: 70px;"></div>

</body>


{% endblock content %}